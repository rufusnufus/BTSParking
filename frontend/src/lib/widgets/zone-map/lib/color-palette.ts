import type { ColorRGB } from '$lib/shared/types';

// 50 colors, improved for colorblind users.
//   Generated with https://medialab.github.io/iwanthue/
const colors = <ColorRGB[]>[
  [49, 148, 124],
  [200, 58, 162],
  [202, 176, 113],
  [145, 186, 105],
  [117, 81, 173],
  [143, 70, 103],
  [130, 134, 78],
  [72, 108, 219],
  [80, 100, 33],
  [175, 100, 38],
  [220, 49, 91],
  [236, 134, 176],
  [106, 163, 44],
  [176, 55, 111],
  [234, 157, 34],
  [142, 113, 229],
  [190, 108, 148],
  [233, 82, 65],
  [107, 187, 142],
  [65, 136, 57],
  [150, 81, 150],
  [227, 115, 203],
  [155, 82, 81],
  [220, 97, 39],
  [147, 99, 52],
  [82, 105, 172],
  [222, 133, 133],
  [227, 150, 106],
  [224, 114, 90],
  [219, 137, 54],
  [153, 151, 225],
  [112, 99, 26],
  [178, 185, 57],
  [154, 68, 188],
  [206, 143, 206],
  [168, 131, 43],
  [69, 194, 127],
  [89, 195, 80],
  [69, 199, 200],
  [201, 116, 227],
  [52, 118, 72],
  [187, 49, 43],
  [217, 175, 67],
  [165, 52, 73],
  [188, 87, 94],
  [134, 140, 51],
  [161, 72, 40],
  [229, 97, 119],
  [228, 71, 142],
  [82, 162, 216],
];

export function colorFor(index: number, opacity: number): string {
  return `rgba(${(colors[index] ?? [235, 235, 235]).join(' ')} / ${opacity * 100}%)`;
}
